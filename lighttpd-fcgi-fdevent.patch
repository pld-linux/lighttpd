--- lighttpd-1.3.7/src/fcgi.c	2005-01-14 14:01:16.000000000 +0200
+++ lighttpd-1.3.7.fixed/src/fcgi.c	2005-01-14 13:59:17.000000000 +0200
@@ -1687,12 +1687,8 @@
 	} else if (revents & FDEVENT_ERR) {
 		log_error_write(srv, __FILE__, __LINE__, "s", "fcgi: err");
 		/* kill all connections to the fastcgi process */
-		
+		connection_set_state(srv, con, CON_STATE_ERROR);
 		fcgi_connection_close(srv, hctx);
-#if 1
-		log_error_write(srv, __FILE__, __LINE__, "s", "fcgi-FDEVENT_ERR");
-#endif			
-		return HANDLER_ERROR;
 	}
 	
 	return HANDLER_FINISHED;
